<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Alimony Adventure</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <!-- Title Screen -->
        <div id="title-screen" class="screen active">
            <h1 class="game-title">ALIMONY ADVENTURE</h1>
            <div id="menu">
                <div class="menu-item selected" data-action="start">> START GAME</div>
                <div class="menu-item" data-action="scores">  HIGH SCORES</div>
                <div class="menu-item" data-action="options">  OPTIONS</div>
                <div class="menu-item" data-action="credits">  CREDITS</div>
            </div>
            <div class="instructions">
                <p class="desktop-hint">Use [W][A][S][D] or Arrow Keys to navigate</p>
                <p class="desktop-hint">Press [ENTER] or [SPACE] to select</p>
                <p class="mobile-hint">Swipe or use D-Pad to move</p>
                <p class="mobile-hint">Tap to select</p>
            </div>
        </div>

        <!-- High Scores Screen -->
        <div id="scores-screen" class="screen">
            <h2>HIGH SCORES</h2>
            <div id="high-scores-content" class="scores-content">
                <p class="no-scores">No high scores yet. Get to work!</p>
            </div>
            <h3>LIFETIME STATS</h3>
            <div id="lifetime-stats-content" class="stats-content"></div>
            <div class="menu-item selected" data-action="back">> BACK</div>
        </div>

        <!-- Options Screen -->
        <div id="options-screen" class="screen">
            <h2>OPTIONS</h2>
            <div class="options-content">
                <p class="option-warning">This game cannot be saved.</p>
                <p class="option-warning">This game cannot be paused.</p>
                <div class="option-toggle">
                    <span>Sound:</span>
                    <span id="sound-status" class="option-value">ON</span>
                </div>
                <p class="option-hint">[M] to toggle sound</p>
            </div>
            <div class="menu-item selected" data-action="toggleSound">> TOGGLE SOUND</div>
            <div class="menu-item" data-action="back">  BACK</div>
        </div>

        <!-- Credits Screen -->
        <div id="credits-screen" class="screen">
            <h2>CREDITS</h2>
            <div class="credits-content">
                <p>A game about responsibility,</p>
                <p>sacrifice, and the price of freedom.</p>
                <br>
                <p>For every parent who works</p>
                <p>two jobs just to see their kid</p>
                <p>every other weekend.</p>
                <br>
                <p class="story">Keep going.</p>
            </div>
            <div class="menu-item selected" data-action="back">> BACK</div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions-screen" class="screen">
            <h2>HOW TO PLAY</h2>
            <div class="instructions-content">
                <p class="story">This is a story about a divorced father</p>
                <p class="story">trying to make alimony payments.</p>
                <br>
                <p class="rule">This game cannot be saved.</p>
                <p class="rule">This game cannot be paused.</p>
                <br>
                <p class="duration">This game will last as long as your child is:</p>
                <p class="condition">A: Alive</p>
                <p class="condition">B: A Minor</p>
                <p class="condition">C: Still under the custody of your ex-wife</p>
                <br>
                <p class="controls desktop-hint">[W/A/S/D] or [Arrows] - Move</p>
                <p class="controls desktop-hint">[SPACE] - Interact / Attack</p>
                <p class="controls desktop-hint">[ESC] - Give Up (Quit)</p>
                <p class="controls mobile-hint">Swipe or D-Pad - Move</p>
                <p class="controls mobile-hint">Tap STAIRS button - Use stairs</p>
                <p class="controls mobile-hint">Tap QUIT button - Give Up</p>
            </div>
            <div class="menu-item selected" data-action="continue">> CONTINUE</div>
        </div>

        <!-- Intro/Character Creation Screen -->
        <div id="intro-screen" class="screen">
            <div id="intro-container">
                <!-- Scene 1: Wake up -->
                <div id="intro-scene-1" class="intro-scene active">
                    <div class="intro-text">
                        <p class="scene-description">[ Your apartment. 6:00 AM. ]</p>
                        <p class="scene-description">[ The alarm screams. Another day. ]</p>
                        <br>
                        <p class="dialogue">You wake up on a mattress on the floor.</p>
                        <p class="dialogue">The ceiling has a water stain shaped like regret.</p>
                        <br>
                        <p class="dialogue">It's been 3 months since the divorce was finalized.</p>
                        <p class="dialogue">She got the house. She got the kid.</p>
                        <p class="dialogue">You got... this.</p>
                    </div>
                    <div class="intro-prompt">
                        <span class="blink">Press [SPACE] or tap to continue...</span>
                    </div>
                </div>

                <!-- Scene 2: The letter -->
                <div id="intro-scene-2" class="intro-scene">
                    <div class="intro-text">
                        <p class="scene-description">[ You check the mail. ]</p>
                        <br>
                        <p class="dialogue">There's a letter from the court.</p>
                        <p class="dialogue">You already know what it says.</p>
                        <br>
                        <p class="dialogue legal">"NOTICE OF CHILD SUPPORT OBLIGATION"</p>
                        <p class="dialogue legal">"Monthly payment: $500"</p>
                        <p class="dialogue legal">"Failure to pay may result in:"</p>
                        <p class="dialogue legal">- Wage garnishment</p>
                        <p class="dialogue legal">- License suspension</p>
                        <p class="dialogue legal">- Incarceration</p>
                        <br>
                        <p class="dialogue">You have 30 days.</p>
                    </div>
                    <div class="intro-prompt">
                        <span class="blink">Press [SPACE] or tap to continue...</span>
                    </div>
                </div>

                <!-- Scene 3: Name input -->
                <div id="intro-scene-3" class="intro-scene">
                    <div class="intro-text">
                        <p class="scene-description">[ You look in the bathroom mirror. ]</p>
                        <br>
                        <p class="dialogue">Who even are you anymore?</p>
                        <p class="dialogue">You try to remember...</p>
                    </div>
                    <div class="intro-input">
                        <label for="player-name">What is your name?</label>
                        <input type="text" id="player-name" maxlength="12" placeholder="Enter name..." autocomplete="off">
                        <p class="input-hint">(Press [ENTER] to confirm)</p>
                    </div>
                </div>

                <!-- Scene 4: Child's name -->
                <div id="intro-scene-4" class="intro-scene">
                    <div class="intro-text">
                        <p class="scene-description">[ A photo on the counter. The only one you kept. ]</p>
                        <br>
                        <p class="dialogue">A small face smiles back at you.</p>
                        <p class="dialogue">5 years old. Doesn't understand any of this.</p>
                        <p class="dialogue">Just knows daddy doesn't live here anymore.</p>
                    </div>
                    <div class="intro-input">
                        <label for="child-name">What is your child's name?</label>
                        <input type="text" id="child-name" maxlength="12" placeholder="Enter name..." autocomplete="off">
                        <p class="input-hint">(Press [ENTER] to confirm)</p>
                    </div>
                </div>

                <!-- Scene 5: Job selection -->
                <div id="intro-scene-5" class="intro-scene">
                    <div class="intro-text">
                        <p class="scene-description">[ You open the classifieds. ]</p>
                        <br>
                        <p class="dialogue">You need work. Anything.</p>
                        <p class="dialogue">What skills do you have left?</p>
                    </div>
                    <div class="job-selection">
                        <p class="selection-label">Choose your starting job:</p>
                        <div id="job-list" class="job-list">
                            <!-- Jobs will be populated by JavaScript -->
                        </div>
                        <div id="job-description" class="job-description">
                            <p class="job-desc-text">Select a job to see details...</p>
                        </div>
                    </div>
                    <div class="intro-prompt">
                        <span>Press [ENTER] or tap to confirm selection</span>
                    </div>
                </div>

                <!-- Scene 6: Final motivation -->
                <div id="intro-scene-6" class="intro-scene">
                    <div class="intro-text">
                        <p class="scene-description">[ You put on your work clothes. ]</p>
                        <br>
                        <p class="dialogue" id="final-dialogue-1">Time to go, <span class="player-name-display">friend</span>.</p>
                        <p class="dialogue">The grind never stops.</p>
                        <br>
                        <p class="dialogue">But every dollar you earn...</p>
                        <p class="dialogue">Every obstacle you overcome...</p>
                        <p class="dialogue" id="final-dialogue-2">It's all for <span class="child-name-display">them</span>.</p>
                        <br>
                        <p class="dialogue motivation">13 years until freedom.</p>
                        <p class="dialogue motivation">Let's get to work.</p>
                    </div>
                    <div class="intro-prompt">
                        <span class="blink">>> BEGIN <<</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div id="game-header">
                <div id="player-stats">
                    <span id="health">HP: 100/100</span>
                    <span id="money">$: 50</span>
                    <span id="alimony-due">ALIMONY: $500</span>
                </div>
                <div id="child-status">
                    <span id="child-age">Child: 5</span>
                    <span id="days-until-payment">Due in: 30d</span>
                </div>
            </div>
            <div id="game-map"></div>
            <div id="game-log">
                <p>Welcome to the dungeon. Find money to pay your alimony.</p>
            </div>
            <!-- Mobile Controls -->
            <div id="mobile-controls">
                <div id="dpad">
                    <button class="dpad-btn" id="dpad-up" data-dir="up">▲</button>
                    <div class="dpad-middle">
                        <button class="dpad-btn" id="dpad-left" data-dir="left">◄</button>
                        <button class="dpad-btn dpad-center" id="dpad-action">●</button>
                        <button class="dpad-btn" id="dpad-right" data-dir="right">►</button>
                    </div>
                    <button class="dpad-btn" id="dpad-down" data-dir="down">▼</button>
                </div>
                <div id="action-buttons">
                    <button class="action-btn" id="btn-stairs">STAIRS</button>
                    <button class="action-btn" id="btn-quit">QUIT</button>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen">
            <h2 id="gameover-title">GAME OVER</h2>
            <div id="gameover-reason"></div>
            <div id="final-stats"></div>
            <div class="menu-item selected" data-action="restart">> TRY AGAIN</div>
            <div class="menu-item" data-action="quit">  QUIT</div>
        </div>

        <!-- Victory Screen -->
        <div id="victory-screen" class="screen">
            <h2>FREEDOM</h2>
            <div class="victory-content">
                <p>Your child has turned 18.</p>
                <p>The payments are done.</p>
                <br>
                <p>They're starting their own life now.</p>
                <p>You missed a lot. But you were always there</p>
                <p>in the only way the system allowed.</p>
                <br>
                <p class="story">"Thanks, Dad. For everything."</p>
            </div>
            <div id="victory-stats"></div>
            <div class="menu-item selected" data-action="restart">> PLAY AGAIN</div>
        </div>
    </div>

    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/effects.js"></script>
    <script src="js/highscores.js"></script>
    <script src="js/map.js"></script>
    <script src="js/entities.js"></script>
    <script src="js/player.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
